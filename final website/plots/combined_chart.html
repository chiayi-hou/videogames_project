<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.16.3"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "hconcat": [{"data": {"name": "data-d930f4aa50efd872bb5a8b21a1fe90d0"}, "mark": {"type": "bar"}, "encoding": {"color": {"field": "Region", "scale": {"domain": ["NA_Sales", "JP_Sales", "EU_Sales", "Other_Sales"], "range": ["#1a9850", "#d73027", "#4575b4", "#806b71"]}, "type": "nominal"}, "stroke": {"condition": {"param": "param_1", "value": "red"}, "value": "transparent"}, "strokeWidth": {"condition": {"param": "param_1", "value": 1.5}, "value": 0}, "tooltip": [{"field": "Year", "type": "quantitative"}, {"field": "Region", "type": "nominal"}, {"field": "Sales", "type": "quantitative"}], "x": {"field": "Year", "type": "ordinal"}, "y": {"aggregate": "sum", "field": "Sales", "type": "quantitative"}}, "name": "view_1", "title": "Total Sales by Year with Region Contribution (Stacked Bar)", "width": 600}, {"data": {"name": "data-0048e0caf3a1b7cf0f9ff204db7ade2d"}, "mark": {"type": "bar"}, "encoding": {"color": {"field": "Region", "scale": {"scheme": "category20"}, "type": "nominal"}, "tooltip": [{"field": "Region", "type": "nominal"}, {"field": "Sales", "type": "quantitative"}], "x": {"field": "Region", "type": "nominal"}, "y": {"field": "Sales", "type": "quantitative"}}, "title": "Video Game Sales by Region", "transform": [{"calculate": "datum.key", "as": "Region"}, {"calculate": "datum.value", "as": "Sales"}, {"fold": ["NA_Sales", "JP_Sales", "EU_Sales", "Other_Sales"], "as": ["Region", "Sales"]}, {"filter": {"param": "param_1"}}]}], "params": [{"name": "param_1", "select": {"type": "point", "fields": ["Year"]}, "bind": {"input": "range", "max": 2016, "min": 1980, "name": "Year: ", "step": 1}, "value": 1980, "views": ["view_1"]}], "$schema": "https://vega.github.io/schema/vega-lite/v5.16.3.json", "datasets": {"data-d930f4aa50efd872bb5a8b21a1fe90d0": [{"Year": 1980.0, "Region": "NA_Sales", "Sales": 10.59}, {"Year": 1981.0, "Region": "NA_Sales", "Sales": 33.4}, {"Year": 1982.0, "Region": "NA_Sales", "Sales": 26.92}, {"Year": 1983.0, "Region": "NA_Sales", "Sales": 7.76}, {"Year": 1984.0, "Region": "NA_Sales", "Sales": 33.28}, {"Year": 1985.0, "Region": "NA_Sales", "Sales": 33.73}, {"Year": 1986.0, "Region": "NA_Sales", "Sales": 12.5}, {"Year": 1987.0, "Region": "NA_Sales", "Sales": 8.459999999999999}, {"Year": 1988.0, "Region": "NA_Sales", "Sales": 23.869999999999997}, {"Year": 1989.0, "Region": "NA_Sales", "Sales": 45.15}, {"Year": 1990.0, "Region": "NA_Sales", "Sales": 25.46}, {"Year": 1991.0, "Region": "NA_Sales", "Sales": 12.76}, {"Year": 1992.0, "Region": "NA_Sales", "Sales": 33.87}, {"Year": 1993.0, "Region": "NA_Sales", "Sales": 15.120000000000001}, {"Year": 1994.0, "Region": "NA_Sales", "Sales": 28.150000000000002}, {"Year": 1995.0, "Region": "NA_Sales", "Sales": 24.82}, {"Year": 1996.0, "Region": "NA_Sales", "Sales": 86.76}, {"Year": 1997.0, "Region": "NA_Sales", "Sales": 94.75}, {"Year": 1998.0, "Region": "NA_Sales", "Sales": 128.36}, {"Year": 1999.0, "Region": "NA_Sales", "Sales": 126.06}, {"Year": 2000.0, "Region": "NA_Sales", "Sales": 94.49}, {"Year": 2001.0, "Region": "NA_Sales", "Sales": 173.98}, {"Year": 2002.0, "Region": "NA_Sales", "Sales": 216.19}, {"Year": 2003.0, "Region": "NA_Sales", "Sales": 193.59}, {"Year": 2004.0, "Region": "NA_Sales", "Sales": 222.59}, {"Year": 2005.0, "Region": "NA_Sales", "Sales": 242.61}, {"Year": 2006.0, "Region": "NA_Sales", "Sales": 263.12}, {"Year": 2007.0, "Region": "NA_Sales", "Sales": 312.05}, {"Year": 2008.0, "Region": "NA_Sales", "Sales": 351.44}, {"Year": 2009.0, "Region": "NA_Sales", "Sales": 338.85}, {"Year": 2010.0, "Region": "NA_Sales", "Sales": 304.24}, {"Year": 2011.0, "Region": "NA_Sales", "Sales": 241.06}, {"Year": 2012.0, "Region": "NA_Sales", "Sales": 154.96}, {"Year": 2013.0, "Region": "NA_Sales", "Sales": 154.77}, {"Year": 2014.0, "Region": "NA_Sales", "Sales": 131.97}, {"Year": 2015.0, "Region": "NA_Sales", "Sales": 102.82}, {"Year": 2016.0, "Region": "NA_Sales", "Sales": 22.66}, {"Year": 2017.0, "Region": "NA_Sales", "Sales": 0.0}, {"Year": 2020.0, "Region": "NA_Sales", "Sales": 0.27}, {"Year": 1980.0, "Region": "EU_Sales", "Sales": 0.67}, {"Year": 1981.0, "Region": "EU_Sales", "Sales": 1.96}, {"Year": 1982.0, "Region": "EU_Sales", "Sales": 1.65}, {"Year": 1983.0, "Region": "EU_Sales", "Sales": 0.8}, {"Year": 1984.0, "Region": "EU_Sales", "Sales": 2.1}, {"Year": 1985.0, "Region": "EU_Sales", "Sales": 4.74}, {"Year": 1986.0, "Region": "EU_Sales", "Sales": 2.84}, {"Year": 1987.0, "Region": "EU_Sales", "Sales": 1.41}, {"Year": 1988.0, "Region": "EU_Sales", "Sales": 6.59}, {"Year": 1989.0, "Region": "EU_Sales", "Sales": 8.44}, {"Year": 1990.0, "Region": "EU_Sales", "Sales": 7.63}, {"Year": 1991.0, "Region": "EU_Sales", "Sales": 3.95}, {"Year": 1992.0, "Region": "EU_Sales", "Sales": 11.71}, {"Year": 1993.0, "Region": "EU_Sales", "Sales": 4.65}, {"Year": 1994.0, "Region": "EU_Sales", "Sales": 14.88}, {"Year": 1995.0, "Region": "EU_Sales", "Sales": 14.9}, {"Year": 1996.0, "Region": "EU_Sales", "Sales": 47.26}, {"Year": 1997.0, "Region": "EU_Sales", "Sales": 48.32}, {"Year": 1998.0, "Region": "EU_Sales", "Sales": 66.9}, {"Year": 1999.0, "Region": "EU_Sales", "Sales": 62.67}, {"Year": 2000.0, "Region": "EU_Sales", "Sales": 52.75}, {"Year": 2001.0, "Region": "EU_Sales", "Sales": 94.89}, {"Year": 2002.0, "Region": "EU_Sales", "Sales": 109.74}, {"Year": 2003.0, "Region": "EU_Sales", "Sales": 103.81}, {"Year": 2004.0, "Region": "EU_Sales", "Sales": 107.32}, {"Year": 2005.0, "Region": "EU_Sales", "Sales": 121.94}, {"Year": 2006.0, "Region": "EU_Sales", "Sales": 129.24}, {"Year": 2007.0, "Region": "EU_Sales", "Sales": 160.5}, {"Year": 2008.0, "Region": "EU_Sales", "Sales": 184.4}, {"Year": 2009.0, "Region": "EU_Sales", "Sales": 191.59}, {"Year": 2010.0, "Region": "EU_Sales", "Sales": 176.73}, {"Year": 2011.0, "Region": "EU_Sales", "Sales": 167.44}, {"Year": 2012.0, "Region": "EU_Sales", "Sales": 118.78}, {"Year": 2013.0, "Region": "EU_Sales", "Sales": 125.8}, {"Year": 2014.0, "Region": "EU_Sales", "Sales": 125.65}, {"Year": 2015.0, "Region": "EU_Sales", "Sales": 97.71}, {"Year": 2016.0, "Region": "EU_Sales", "Sales": 26.76}, {"Year": 2017.0, "Region": "EU_Sales", "Sales": 0.0}, {"Year": 2020.0, "Region": "EU_Sales", "Sales": 0.0}, {"Year": 1980.0, "Region": "JP_Sales", "Sales": 0.0}, {"Year": 1981.0, "Region": "JP_Sales", "Sales": 0.0}, {"Year": 1982.0, "Region": "JP_Sales", "Sales": 0.0}, {"Year": 1983.0, "Region": "JP_Sales", "Sales": 8.1}, {"Year": 1984.0, "Region": "JP_Sales", "Sales": 14.27}, {"Year": 1985.0, "Region": "JP_Sales", "Sales": 14.56}, {"Year": 1986.0, "Region": "JP_Sales", "Sales": 19.81}, {"Year": 1987.0, "Region": "JP_Sales", "Sales": 11.63}, {"Year": 1988.0, "Region": "JP_Sales", "Sales": 15.76}, {"Year": 1989.0, "Region": "JP_Sales", "Sales": 18.36}, {"Year": 1990.0, "Region": "JP_Sales", "Sales": 14.879999999999999}, {"Year": 1991.0, "Region": "JP_Sales", "Sales": 14.78}, {"Year": 1992.0, "Region": "JP_Sales", "Sales": 28.91}, {"Year": 1993.0, "Region": "JP_Sales", "Sales": 25.330000000000002}, {"Year": 1994.0, "Region": "JP_Sales", "Sales": 33.99}, {"Year": 1995.0, "Region": "JP_Sales", "Sales": 45.75}, {"Year": 1996.0, "Region": "JP_Sales", "Sales": 57.44}, {"Year": 1997.0, "Region": "JP_Sales", "Sales": 48.87}, {"Year": 1998.0, "Region": "JP_Sales", "Sales": 50.04}, {"Year": 1999.0, "Region": "JP_Sales", "Sales": 52.34}, {"Year": 2000.0, "Region": "JP_Sales", "Sales": 42.769999999999996}, {"Year": 2001.0, "Region": "JP_Sales", "Sales": 39.86}, {"Year": 2002.0, "Region": "JP_Sales", "Sales": 41.76}, {"Year": 2003.0, "Region": "JP_Sales", "Sales": 34.2}, {"Year": 2004.0, "Region": "JP_Sales", "Sales": 41.65}, {"Year": 2005.0, "Region": "JP_Sales", "Sales": 54.28}, {"Year": 2006.0, "Region": "JP_Sales", "Sales": 73.73}, {"Year": 2007.0, "Region": "JP_Sales", "Sales": 60.29}, {"Year": 2008.0, "Region": "JP_Sales", "Sales": 60.26}, {"Year": 2009.0, "Region": "JP_Sales", "Sales": 61.89}, {"Year": 2010.0, "Region": "JP_Sales", "Sales": 59.49}, {"Year": 2011.0, "Region": "JP_Sales", "Sales": 53.04}, {"Year": 2012.0, "Region": "JP_Sales", "Sales": 51.74}, {"Year": 2013.0, "Region": "JP_Sales", "Sales": 47.59}, {"Year": 2014.0, "Region": "JP_Sales", "Sales": 39.46}, {"Year": 2015.0, "Region": "JP_Sales", "Sales": 33.72}, {"Year": 2016.0, "Region": "JP_Sales", "Sales": 13.7}, {"Year": 2017.0, "Region": "JP_Sales", "Sales": 0.05}, {"Year": 2020.0, "Region": "JP_Sales", "Sales": 0.0}, {"Year": 1980.0, "Region": "Other_Sales", "Sales": 0.12}, {"Year": 1981.0, "Region": "Other_Sales", "Sales": 0.32}, {"Year": 1982.0, "Region": "Other_Sales", "Sales": 0.31}, {"Year": 1983.0, "Region": "Other_Sales", "Sales": 0.14}, {"Year": 1984.0, "Region": "Other_Sales", "Sales": 0.7}, {"Year": 1985.0, "Region": "Other_Sales", "Sales": 0.92}, {"Year": 1986.0, "Region": "Other_Sales", "Sales": 1.93}, {"Year": 1987.0, "Region": "Other_Sales", "Sales": 0.2}, {"Year": 1988.0, "Region": "Other_Sales", "Sales": 0.99}, {"Year": 1989.0, "Region": "Other_Sales", "Sales": 1.5}, {"Year": 1990.0, "Region": "Other_Sales", "Sales": 1.4000000000000001}, {"Year": 1991.0, "Region": "Other_Sales", "Sales": 0.74}, {"Year": 1992.0, "Region": "Other_Sales", "Sales": 1.65}, {"Year": 1993.0, "Region": "Other_Sales", "Sales": 0.89}, {"Year": 1994.0, "Region": "Other_Sales", "Sales": 2.2}, {"Year": 1995.0, "Region": "Other_Sales", "Sales": 2.64}, {"Year": 1996.0, "Region": "Other_Sales", "Sales": 7.69}, {"Year": 1997.0, "Region": "Other_Sales", "Sales": 9.13}, {"Year": 1998.0, "Region": "Other_Sales", "Sales": 11.03}, {"Year": 1999.0, "Region": "Other_Sales", "Sales": 10.05}, {"Year": 2000.0, "Region": "Other_Sales", "Sales": 11.620000000000001}, {"Year": 2001.0, "Region": "Other_Sales", "Sales": 22.76}, {"Year": 2002.0, "Region": "Other_Sales", "Sales": 27.28}, {"Year": 2003.0, "Region": "Other_Sales", "Sales": 26.01}, {"Year": 2004.0, "Region": "Other_Sales", "Sales": 47.29}, {"Year": 2005.0, "Region": "Other_Sales", "Sales": 40.58}, {"Year": 2006.0, "Region": "Other_Sales", "Sales": 54.43}, {"Year": 2007.0, "Region": "Other_Sales", "Sales": 77.6}, {"Year": 2008.0, "Region": "Other_Sales", "Sales": 82.39}, {"Year": 2009.0, "Region": "Other_Sales", "Sales": 74.77}, {"Year": 2010.0, "Region": "Other_Sales", "Sales": 59.9}, {"Year": 2011.0, "Region": "Other_Sales", "Sales": 54.39}, {"Year": 2012.0, "Region": "Other_Sales", "Sales": 37.82}, {"Year": 2013.0, "Region": "Other_Sales", "Sales": 39.82}, {"Year": 2014.0, "Region": "Other_Sales", "Sales": 40.02}, {"Year": 2015.0, "Region": "Other_Sales", "Sales": 30.01}, {"Year": 2016.0, "Region": "Other_Sales", "Sales": 7.75}, {"Year": 2017.0, "Region": "Other_Sales", "Sales": 0.0}, {"Year": 2020.0, "Region": "Other_Sales", "Sales": 0.02}], "data-0048e0caf3a1b7cf0f9ff204db7ade2d": [{"Year": 1980.0, "NA_Sales": 10.59, "EU_Sales": 0.67, "JP_Sales": 0.0, "Other_Sales": 0.12}, {"Year": 1981.0, "NA_Sales": 33.4, "EU_Sales": 1.96, "JP_Sales": 0.0, "Other_Sales": 0.32}, {"Year": 1982.0, "NA_Sales": 26.92, "EU_Sales": 1.65, "JP_Sales": 0.0, "Other_Sales": 0.31}, {"Year": 1983.0, "NA_Sales": 7.76, "EU_Sales": 0.8, "JP_Sales": 8.1, "Other_Sales": 0.14}, {"Year": 1984.0, "NA_Sales": 33.28, "EU_Sales": 2.1, "JP_Sales": 14.27, "Other_Sales": 0.7}, {"Year": 1985.0, "NA_Sales": 33.73, "EU_Sales": 4.74, "JP_Sales": 14.56, "Other_Sales": 0.92}, {"Year": 1986.0, "NA_Sales": 12.5, "EU_Sales": 2.84, "JP_Sales": 19.81, "Other_Sales": 1.93}, {"Year": 1987.0, "NA_Sales": 8.459999999999999, "EU_Sales": 1.41, "JP_Sales": 11.63, "Other_Sales": 0.2}, {"Year": 1988.0, "NA_Sales": 23.869999999999997, "EU_Sales": 6.59, "JP_Sales": 15.76, "Other_Sales": 0.99}, {"Year": 1989.0, "NA_Sales": 45.15, "EU_Sales": 8.44, "JP_Sales": 18.36, "Other_Sales": 1.5}, {"Year": 1990.0, "NA_Sales": 25.46, "EU_Sales": 7.63, "JP_Sales": 14.879999999999999, "Other_Sales": 1.4000000000000001}, {"Year": 1991.0, "NA_Sales": 12.76, "EU_Sales": 3.95, "JP_Sales": 14.78, "Other_Sales": 0.74}, {"Year": 1992.0, "NA_Sales": 33.87, "EU_Sales": 11.71, "JP_Sales": 28.91, "Other_Sales": 1.65}, {"Year": 1993.0, "NA_Sales": 15.120000000000001, "EU_Sales": 4.65, "JP_Sales": 25.330000000000002, "Other_Sales": 0.89}, {"Year": 1994.0, "NA_Sales": 28.150000000000002, "EU_Sales": 14.88, "JP_Sales": 33.99, "Other_Sales": 2.2}, {"Year": 1995.0, "NA_Sales": 24.82, "EU_Sales": 14.9, "JP_Sales": 45.75, "Other_Sales": 2.64}, {"Year": 1996.0, "NA_Sales": 86.76, "EU_Sales": 47.26, "JP_Sales": 57.44, "Other_Sales": 7.69}, {"Year": 1997.0, "NA_Sales": 94.75, "EU_Sales": 48.32, "JP_Sales": 48.87, "Other_Sales": 9.13}, {"Year": 1998.0, "NA_Sales": 128.36, "EU_Sales": 66.9, "JP_Sales": 50.04, "Other_Sales": 11.03}, {"Year": 1999.0, "NA_Sales": 126.06, "EU_Sales": 62.67, "JP_Sales": 52.34, "Other_Sales": 10.05}, {"Year": 2000.0, "NA_Sales": 94.49, "EU_Sales": 52.75, "JP_Sales": 42.769999999999996, "Other_Sales": 11.620000000000001}, {"Year": 2001.0, "NA_Sales": 173.98, "EU_Sales": 94.89, "JP_Sales": 39.86, "Other_Sales": 22.76}, {"Year": 2002.0, "NA_Sales": 216.19, "EU_Sales": 109.74, "JP_Sales": 41.76, "Other_Sales": 27.28}, {"Year": 2003.0, "NA_Sales": 193.59, "EU_Sales": 103.81, "JP_Sales": 34.2, "Other_Sales": 26.01}, {"Year": 2004.0, "NA_Sales": 222.59, "EU_Sales": 107.32, "JP_Sales": 41.65, "Other_Sales": 47.29}, {"Year": 2005.0, "NA_Sales": 242.61, "EU_Sales": 121.94, "JP_Sales": 54.28, "Other_Sales": 40.58}, {"Year": 2006.0, "NA_Sales": 263.12, "EU_Sales": 129.24, "JP_Sales": 73.73, "Other_Sales": 54.43}, {"Year": 2007.0, "NA_Sales": 312.05, "EU_Sales": 160.5, "JP_Sales": 60.29, "Other_Sales": 77.6}, {"Year": 2008.0, "NA_Sales": 351.44, "EU_Sales": 184.4, "JP_Sales": 60.26, "Other_Sales": 82.39}, {"Year": 2009.0, "NA_Sales": 338.85, "EU_Sales": 191.59, "JP_Sales": 61.89, "Other_Sales": 74.77}, {"Year": 2010.0, "NA_Sales": 304.24, "EU_Sales": 176.73, "JP_Sales": 59.49, "Other_Sales": 59.9}, {"Year": 2011.0, "NA_Sales": 241.06, "EU_Sales": 167.44, "JP_Sales": 53.04, "Other_Sales": 54.39}, {"Year": 2012.0, "NA_Sales": 154.96, "EU_Sales": 118.78, "JP_Sales": 51.74, "Other_Sales": 37.82}, {"Year": 2013.0, "NA_Sales": 154.77, "EU_Sales": 125.8, "JP_Sales": 47.59, "Other_Sales": 39.82}, {"Year": 2014.0, "NA_Sales": 131.97, "EU_Sales": 125.65, "JP_Sales": 39.46, "Other_Sales": 40.02}, {"Year": 2015.0, "NA_Sales": 102.82, "EU_Sales": 97.71, "JP_Sales": 33.72, "Other_Sales": 30.01}, {"Year": 2016.0, "NA_Sales": 22.66, "EU_Sales": 26.76, "JP_Sales": 13.7, "Other_Sales": 7.75}, {"Year": 2017.0, "NA_Sales": 0.0, "EU_Sales": 0.0, "JP_Sales": 0.05, "Other_Sales": 0.0}, {"Year": 2020.0, "NA_Sales": 0.27, "EU_Sales": 0.0, "JP_Sales": 0.0, "Other_Sales": 0.02}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>